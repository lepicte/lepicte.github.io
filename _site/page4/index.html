<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Lanyon &middot; A Jekyll theme
    
  </title>

  
  <link rel="canonical" href="http://localhost:4000/page4/">
  

  <link rel="stylesheet" href="http://localhost:4000/public/css/poole.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/syntax.css">
  <link rel="stylesheet" href="http://localhost:4000/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="http://localhost:4000/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="http://localhost:4000/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" checked>

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>A reserved <a href="https://jekyllrb.com" target="_blank">Jekyll</a> theme that places the utmost gravity on content with a hidden drawer. Made by <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item active" href="http://localhost:4000/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="http://localhost:4000/about/">About</a>
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="/archive/v1.1.0.zip">Download</a>
    <a class="sidebar-nav-item" href="">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.1.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2020. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Lanyon</a>
            <small>A Jekyll theme</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/binary/2017/02/28/format-string/">
        Format String with GDB
      </a>
    </h1>

    <span class="post-date">28 Feb 2017</span>

    <p><br />
Salut à tous,</p>

<p>Aujourd’hui un petit article qui traitera d’un cas simple de Format String où nous exploiterons un buffer passé en argument. L’idée de cet article fait suite à la machine <a href="https://www.vulnhub.com/entry/pegasus-1,109/">Pegasus 1</a> de vulnhub que je vous recommande chaudement.</p>

<p>J’essaierai d’être assez pédagogique, le cas ci-dessous étant un cas basique sans contournement des protections de la pile.</p>

<p><strong>Qu’entend-on par Format String?</strong></p>

<p><em>“The format string is written in a simple template language, and specifies a method for rendering an arbitrary number of varied data type parameters into a string.”</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>%c char single character
%d (%i) int signed integer
%e (%E) float or double exponential format
%f float or double signed decimal
%g (%G) float or double use %f or %e as required
%o int unsigned octal value
%p pointer address stored in pointer
%s array of char sequence of characters
%u int unsigned decimal
%x (%X) int unsigned hex value
%n Print nothing, but writes the number of characters successfully written so far into an integer pointer parameter.
</code></pre></div></div>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/certification/2017/02/17/oscp/">
        OSCP: une première étape
      </a>
    </h1>

    <span class="post-date">17 Feb 2017</span>

    <p><br />
Bonjour à tous,</p>

<p>Premier article de l’année, cependant ces derniers temps furent bien remplis avec notamment le passage de l’<a href="https://www.offensive-security.com/information-security-certifications/oscp-offensive-security-certified-professional/">OSCP</a>. J’en profite donc pour écrire une petite revue sur cette certif en espérant partager des infos qui pourront vous être utiles.</p>

<p><strong>Qu’est-ce que l’OSCP?</strong></p>

<p><img src="http://localhost:4000/public/images/oscp/oscp1.png" alt="oscp" /></p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/fingerprint/2016/12/05/passive-fingerprinting-netcraft-shodan/">
        Passive Gathering Information - Netcraft and Shodan
      </a>
    </h1>

    <span class="post-date">05 Dec 2016</span>

    <p><br />
Bonjour à tous,</p>

<p>Aujourd’hui nous parlerons de la prise d’empreinte passive et des plateformes <a href="https://www.netcraft.com/">netcraft</a> et <a href="https://www.shodan.io/">shodan</a>. La prise d’empreinte passive consiste en l’agrégation d’informations publiques concernant une cible (sans requêtage direct de ses serveurs).</p>

<p>La prise d’empreinte au sens large devra être la plus exhaustive possible pour maximiser la probabilité de réussite d’une attaque:</p>

<ul>
  <li>prise d’informations sur l’entreprise et son activité (énumération des employés et adresses mail (<a href="https://code.google.com/archive/p/theharvester/">theharvester</a>)</li>
  <li>base de données Whois</li>
  <li>Google dorks</li>
  <li>SMTP, SMB, SNMP, DNS enumeration (recon-ng, dnsrecon, nbtscan, enum4linux, snmpwalk)</li>
  <li>Scan des services et des bannières</li>
  <li>Scan des vulnérabilités (metasploit, nikto, OpenVAS, NSE vuln)</li>
</ul>

<p>Il est possible de collecter beaucoup d’informations via les moteurs de recherche. Pour cela je vous redirige vers l’excellent site d’Offensive Security <a href="https://www.exploit-db.com/google-hacking-database/">https://www.exploit-db.com/google-hacking-database/</a> et la Google Cheat Sheet du SANS <a href="https://www.sans.org/security-resources/GoogleCheatSheet.pdf">https://www.sans.org/security-resources/GoogleCheatSheet.pdf</a>.</p>

<p>Quelques exemples de recherches:</p>

<p><code class="language-plaintext highlighter-rouge">site:microsoft.com -site:www.microsoft.com</code> (tous les sous domaines de microsoft)<br />
<code class="language-plaintext highlighter-rouge">site:ameli.fr inurl:phpinfo.php</code> (version de php)<br />
<code class="language-plaintext highlighter-rouge">site:ameli.fr inurl:(cgi|api|webservice|private|portail) | (login OR pass OR admin)</code> (potentielles pages de login)</p>

<p>D’autres informations sur la prise d’empreinte passive:</p>

<p><strong>Base de données Whois:</strong></p>

<p>Selon Wikipedia: <em>Each registrar must maintain a Whois database containing all contact information for the domains they host. These databases are usually published by a Whois server over TCP port 43. The whois client can also perform reverse lookups. Rather than inputting a domain name, you can provide an IP address.</em></p>

<p><code class="language-plaintext highlighter-rouge">whois microsoft.com</code></p>

<p><strong>recon-ng:</strong></p>

<p>Outil complet de prise d’empreinte: <a href="https://bitbucket.org/LaNMaSteR53/recon-ng/wiki/Home">https://bitbucket.org/LaNMaSteR53/recon-ng/wiki/Home</a></p>

<p>```
$ recon-ng
[recon-ng][default] &gt; use recon/domains-contacts/whois_pocs
[recon-ng][default][whois_pocs] &gt; show options</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/mitm/2016/10/01/http-proxying/">
        HTTP Proxying with Mitmproxy
      </a>
    </h1>

    <span class="post-date">01 Oct 2016</span>

    <p><br />
Bonjour à tous,</p>

<p>Pour faire suite à l’<a href="http://localhost:4000/mitm-phishing">article</a> que j’avais rédigé sur une attaque MITM redirigeant vers un site web spoofé, je me suis penché sur une autre méthode plus générique qui utilise l’outil <a href="https://mitmproxy.org/">mitmproxy</a>.</p>

<p>Toujours dans un contexte MITM, l’objectif est d’identifier les liens sécurisés et redirections (<strong>https</strong>), de les ‘stripper’ en <strong>http</strong>, dans le but de maintenir le type de connexion suivante:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>victime &lt;-- HTTP --&gt; mitmproxy &lt;-- HTTPS --&gt; website
</code></pre></div></div>

<p>Le but est, qu’à partir d’une page non sécurisée d’un site, nous puissions continuer en proposant à notre victime une connexion en clair (http) pour analyser son trafic, mais que notre proxy rétablisse la connexion sécurisée avec le site concerné. Cette attaque ne pourra pas aboutir sur des sites implémentant le <a href="https://https.cio.gov/hsts/">HSTS</a> (sauf si l’utilisateur ne s’est jamais connecté au site et que le HSTS n’est pas préchargé).</p>

<p>Le stripping est effectué par le script <a href="https://github.com/phackt/mitm/blob/master/script/sslstrip.py">sslstrip.py</a>, qui permet également de supprimer d’autres headers de sécurité, notamment les fameux cookies <strong>secure</strong> que nous avons abordés dans un <a href="http://localhost:4000/xss-cors-csrf-partie-2-xss-cookies-session">article précédent</a>.</p>

<p>Vous trouverez le projet full et à jour (de nouvelles features apparaissent régulièrement) sur mon <a href="https://github.com/phackt/mitm">github</a>.</p>

<p>J’ai également créé un petit script python, <a href="https://github.com/phackt/mitm/blob/master/bin/chk_poison.py">chk_poison.py</a>, qui va vérifier que votre ARP poisoning est opérationnel dans les deux sens (Victime &lt;-&gt; Passerelle). N’oubliez pas que certaines protections filtrent les résolutions ARP non légitimes.</p>

<p>Vous pouvez tester mitmproxy sans attaque MITM, en l’utilisant en mode <a href="http://docs.mitmproxy.org/en/stable/modes.html">Regular</a>. La commande sera la suivante:</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="http://localhost:4000/general/2016/09/17/tor-proxychains/">
        Anonymat avec TOR et Proxychains sous Kali
      </a>
    </h1>

    <span class="post-date">17 Sep 2016</span>

    <p><br />
Salut à tous,</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="http://localhost:4000/page5">Older</a>
  
  
    
      <a class="pagination-item newer" href="http://localhost:4000/page3">Newer</a>
    
  
</div>

      </div>
    </div>


    <!-- <label for="sidebar-checkbox" class="sidebar-toggle"></label> -->

    <script src='/public/js/script.js'></script>
 
  </body>
</html>
